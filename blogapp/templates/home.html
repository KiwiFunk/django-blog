{% extends 'base.html' %}

{% block content %}

<h1>Posts:</h1>

{% for post in object_list %}
    <a href="{% url 'post_details' post.pk %}"><h2>{{ post.title }}</h2></a>      {# Use Django's url template tag to create a link to the post_details view we defined in the urls.py file. #}
    <h5>{{ post.author }}</h5>
    <h6><a href="{% url 'category' post.category|lower %}">{{ post.category }}</a> | Published: {{ post.created_at|date:"DATE_FORMAT" }}</h6>
    {% if post.summary %}
        <p>{{ post.summary }}</p>
    {% else %}
        <p>{{ post.body|safe|truncatewords:40 }}</p>
    {% endif %}
    <hr>
{% endfor %}

{% endblock %}