{% extends 'base.html' %}

{% block content %}

<h1>Posts:</h1>

{% for post in object_list %}
    <a href="{% url 'post_details' post.pk %}"><h2>{{ post.title }}</h2></a>      {# Use Django's url template tag to create a link to the post_details view we defined in the urls.py file. #}
    <h4>Author: {{ post.author }}</h4>
    <h5>Published: {{ post.created_at|date:"DATE_FORMAT" }}</h5>
    {% if post.summary %}
        <p>{{ post.summary }}</p>
    {% else %}
        <p>{{ post.body|truncatewords:20 }}</p>
    {% endif %}
    <hr>
{% endfor %}

{% endblock %}